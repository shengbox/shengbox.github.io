(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[64],{"6U5F":function(e,t,a){"use strict";a.r(t);var n=a("p0pE"),r=a.n(n),s=a("d6i3"),c=a.n(s),u=a("GIZZ"),p=a.n(u),i=a("3Unq"),o=a("7Qib"),l=a("3eXy"),d=l["a"].queryDepartment,m=l["a"].updateDepartment,w=l["a"].createDepartment,f=l["a"].removeDepartment,y=l["a"].queryCommonOptions,x=l["a"].queryDepartmentDetail,h=l["a"].syncDepartment;t["default"]=p()(i["a"],{namespace:"department",state:{list:[],currentItem:{},modalVisible:!1,modalType:"create",options:{dept_tree:[]}},subscriptions:{setup:function(e){var t=e.dispatch,a=e.history;a.listen(function(e){var a=e.pathname;Object(o["g"])("/manager/department",a)&&t({type:"query"})})}},effects:{query:c.a.mark(function e(t,a){var n,r,s,u;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,s=a.put,e.next=4,r(d,n);case 4:if(u=e.sent,!u.success){e.next=8;break}return e.next=8,s({type:"updateState",payload:{list:u.list}});case 8:case"end":return e.stop()}},e)}),update:c.a.mark(function e(t,a){var n,r,s,u,p;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,a.select,r=a.call,s=a.put,u=0==n.id?w:m,e.next=5,r(u,n);case 5:if(p=e.sent,!p.success){e.next=9;break}return e.next=9,s({type:"hideModal"});case 9:case"end":return e.stop()}},e)}),delete:c.a.mark(function e(t,a){var n,r,s,u;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,a.select,r=a.call,s=a.put,e.next=4,r(f,n);case 4:if(u=e.sent,!u.success){e.next=8;break}return e.next=8,s({type:"updateState"});case 8:case"end":return e.stop()}},e)}),showModal:c.a.mark(function e(t,a){var n,r,s,u,p;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.payload,a.select,r=a.call,s=a.put,u={},!n.currentItem.id){e.next=7;break}return e.next=6,r(x,{id:n.currentItem.id});case 6:u=e.sent;case 7:return e.next=9,r(y,{contains:"dept_tree"});case 9:if(p=e.sent,!p.success){e.next=15;break}return e.next=13,s({type:"updateState",payload:{options:p,currentItem:u}});case 13:e.next=16;break;case 15:throw u;case 16:case"end":return e.stop()}},e)}),sync:c.a.mark(function e(t,a){var n,r;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,a.select,n=a.call,a.put,e.next=4,n(h,{});case 4:r=e.sent,r.success;case 6:case"end":return e.stop()}},e)}),detail:c.a.mark(function e(t,a){var n,r;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,a.select,n=a.call,a.put,e.next=4,n(x,{id:1});case 4:r=e.sent,r.success;case 6:case"end":return e.stop()}},e)})},reducers:{showModal:function(e,t){var a=t.payload;return r()({},e,a,{modalVisible:!0})},hideModal:function(e){return r()({},e,{modalVisible:!1})}}})}}]);