(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[41],{GHBj:function(e,a,t){"use strict";t.r(a);t("g9YV");var n,r,l,o,s,i,d,c=t("wCAj"),m=t("jehZ"),p=t.n(m),h=(t("14J3"),t("BMrR")),u=(t("+L6B"),t("2/Rp")),f=(t("jCWc"),t("kPKH")),y=(t("zYCJ"),t("4dqd")),g=t.n(y),E=(t("+BJd"),t("mr32")),w=t("p0pE"),x=t.n(w),k=t("2Taf"),I=t.n(k),b=t("vZ4D"),v=t.n(b),C=t("l4Ni"),M=t.n(C),_=t("ujKo"),P=t.n(_),R=t("MhPg"),N=t.n(R),O=(t("y8nQ"),t("Vl3Y")),j=(t("OaEy"),t("2fM7")),K=(t("iQDF"),t("+eQT")),F=t("q1tI"),q=t.n(F),S=t("MuoO"),V=t("7Qib"),B=t("Qyje"),J=t("Kvkj"),Q=(t("2qtc"),t("kLXV")),T=(t("5NDa"),t("5rEg")),Y=(t("Telt"),t("Tckk")),D=t("Y/ft"),z=t.n(D),A=t("jHYr"),H=t.n(A),L=O["a"].Item,Z=j["a"].Option,G={labelCol:{span:6},wrapperCol:{span:14}},W=(n=O["a"].create(),n((l=function(e){function a(){var e,t;I()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=M()(this,(e=P()(a)).call.apply(e,[this].concat(r))),t.handleOk=function(){var e=t.props,a=(e.item,e.onOk),n=e.form,r=n.validateFields;r(function(e,t){if(!e){var n=x()({},t,{from:Number(t.from),dest:Number(t.dest),manager:Number(t.manager)});a(n)}})},t.handleChoose=function(){var e=t.props.onChoose;e()},t}return N()(a,e),v()(a,[{key:"render",value:function(){var e=this.props,a=e.form.getFieldDecorator;H()(e.item);var t=e.selectedRows,n=e.options,r=z()(e,["form","item","selectedRows","options"]),l=[{title:"\u5e8f\u53f7",dataIndex:"serial_number",width:60,render:function(e,a,t){return q.a.createElement("span",null,t+1)}},{title:"\u7167\u7247",dataIndex:"image",key:"image",width:100,render:function(e){return q.a.createElement(Y["a"],{style:{marginLeft:4},src:e})}},{title:"\u8d44\u4ea7\u6761\u7801",dataIndex:"barcode",width:150,render:function(e){return q.a.createElement(g.a,{tooltip:!0,length:10},e)}},{title:"\u8d44\u4ea7\u540d\u79f0",dataIndex:"name",width:150},{title:"\u6240\u5c5e\u516c\u53f8",dataIndex:"belong_company"},{title:"\u5f53\u524d\u6240\u5728\u516c\u53f8",dataIndex:"use_company"},{title:"\u5f53\u524d\u6240\u6709\u90e8\u95e8",dataIndex:"use_department"},{title:"\u5f53\u524d\u4f7f\u7528\u4eba",dataIndex:"use_user"},{title:"\u5b58\u653e\u5730\u5740",dataIndex:"address",width:200,render:function(e){return q.a.createElement(g.a,{tooltip:!0,length:10},e)}}],o=q.a.createElement(h["a"],{style:{marginBottom:16}},q.a.createElement(u["a"],{className:"margin-right",onClick:this.handleChoose},"\u9009\u62e9\u8d44\u4ea7"),q.a.createElement(u["a"],{className:"margin-right"},"\u5220\u9664"));return q.a.createElement(Q["a"],p()({},r,{onOk:this.handleOk}),q.a.createElement(O["a"],null,q.a.createElement(h["a"],null,q.a.createElement(f["a"],{span:12},q.a.createElement(L,p()({label:"\u8c03\u51fa\u516c\u53f8",hasFeedback:!0},G),a("from",{rules:[{required:!0}]})(q.a.createElement(j["a"],{placeholder:"\u8c03\u51fa\u516c\u53f8"},n.orgs.map(function(e){return q.a.createElement(Z,{key:e.id},e.name)}))))),q.a.createElement(f["a"],{span:12},q.a.createElement(L,p()({label:"\u8c03\u5165\u516c\u53f8",hasFeedback:!0},G),a("dest",{rules:[{required:!0}]})(q.a.createElement(j["a"],{placeholder:"\u8c03\u5165\u516c\u53f8"},n.orgs.map(function(e){return q.a.createElement(Z,{key:e.id},e.name)})))))),q.a.createElement(h["a"],null,q.a.createElement(f["a"],{span:12},q.a.createElement(L,p()({label:"\u8c03\u5165\u7ba1\u7406\u5458",hasFeedback:!0},G),a("manager",{rules:[{required:!0}]})(q.a.createElement(j["a"],{placeholder:"\u8c03\u5165\u7ba1\u7406\u5458"},n.managers.map(function(e){return q.a.createElement(Z,{key:e.id},e.name)}))))),q.a.createElement(f["a"],{span:12},q.a.createElement(L,p()({label:"\u5907\u6ce8",hasFeedback:!0},G),a("remark",{})(q.a.createElement(T["a"],{placeholder:"\u5907\u6ce8"}))))),o,q.a.createElement(h["a"],null,q.a.createElement(c["a"],p()({},this.listProps,{bordered:!0,columns:l,dataSource:t,scroll:{x:1200,y:280},size:"small",rowKey:function(e){return e.id}})))))}},{key:"listProps",get:function(){return{rowSelection:{selectedRowKeys:[],onChange:function(e){}}}}}]),a}(F["PureComponent"]),r=l))||r);t.d(a,"default",function(){return $});var X=K["a"].RangePicker,U=j["a"].Option,$=(o=O["a"].create(),s=Object(S["connect"])(function(e){var a=e.transfer,t=e.loading;return{transfer:a,loading:t}}),o(i=s((d=function(e){function a(){var e,t;I()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=M()(this,(e=P()(a)).call.apply(e,[this].concat(r))),t.state={selectedRowKeys:[]},t.handleRefresh=function(e){var a=t.props.location,n=a.query,r=a.pathname;V["k"].push({pathname:r,search:Object(B["stringify"])(x()({},n,e),{arrayFormat:"repeat"})})},t}return N()(a,e),v()(a,[{key:"render",value:function(){var e=[{title:"\u72b6\u6001",dataIndex:"confirmed",render:function(e){return q.a.createElement(E["a"],{color:"red"},e?"\u5df2\u786e\u8ba4":"\u672a\u786e\u8ba4")}},{title:"\u8c03\u62e8\u5355\u53f7",dataIndex:"bill_no",render:function(e){return q.a.createElement("a",null,e)}},{title:"\u8c03\u51fa\u65e5\u671f",dataIndex:"create_date"},{title:"\u8c03\u51fa\u7ba1\u7406\u5458",dataIndex:"from_manager_name"},{title:"\u8c03\u51fa\u516c\u53f8",dataIndex:"from_company_name"},{title:"\u8c03\u5165\u65e5\u671f",dataIndex:"name5"},{title:"\u8c03\u5165\u7ba1\u7406\u5458",dataIndex:"dest_manager_name"},{title:"\u8c03\u5165\u516c\u53f8",dataIndex:"dest_company_name"},{title:"\u8c03\u62e8\u8bf4\u660e",dataIndex:"remark"},{title:"\u8d44\u4ea7\u660e\u7ec6",children:[{title:"\u8d44\u4ea7\u7f16\u7801",dataIndex:"asset.barcode"},{title:"\u8d44\u4ea7\u7c7b\u522b",dataIndex:"asset_type"},{title:"\u8d44\u4ea7\u540d\u79f0",dataIndex:"asset.name"},{title:"\u89c4\u683c\u578b\u53f7",dataIndex:"asset.specs"},{title:"SN\u53f7",dataIndex:"asset.SNNo"},{title:"\u91d1\u989d",dataIndex:"asset.money"},{title:"\u4f7f\u7528\u516c\u53f8",dataIndex:"asset.using_company_name"},{title:"\u4f7f\u7528\u90e8\u95e8",dataIndex:"using_department"},{title:"\u4f7f\u7528\u4eba",dataIndex:"using_people"},{title:"\u7ba1\u7406\u5458",dataIndex:"manager"},{title:"\u6240\u5c5e\u516c\u53f8",dataIndex:"asset.belong_company_name"},{title:"\u533a\u57df",dataIndex:"asset.area_name"},{title:"\u5b58\u653e\u5730\u70b9",dataIndex:"asset.address",render:function(e){return q.a.createElement(g.a,{tooltip:!0,length:10},e)}}]}],a=q.a.createElement(O["a"],null,q.a.createElement(h["a"],{style:{marginBottom:16}},q.a.createElement(f["a"],{span:3,xl:{span:3},md:{span:4}},q.a.createElement(j["a"],{defaultValue:"",style:{width:"calc(100% - 16px)"},onChange:this.filterProps.handleChange},q.a.createElement(U,{value:"1"},"\u672a\u786e\u8ba4\u7684"),q.a.createElement(U,{value:"2"},"\u6211\u8c03\u51fa\u7684"),q.a.createElement(U,{value:"3"},"\u8c03\u5165\u6211\u7684"),q.a.createElement(U,{value:""},"\u5168\u90e8"))),q.a.createElement(f["a"],{span:5,xl:{span:5},md:{span:6}},q.a.createElement(X,{style:{width:"calc(100% - 16px)"}})),q.a.createElement(f["a"],{span:10,md:{span:14}},q.a.createElement(u["a"],{type:"primary",className:"margin-right",icon:"plus",onClick:this.filterProps.handleCreate},"\u65b0\u589e"),q.a.createElement(u["a"],{type:"default",className:"margin-right"},"\u8c03\u5165\u786e\u8ba4"),q.a.createElement(u["a"],{type:"default",className:"margin-right"},"\u53d6\u6d88\u8c03\u62e8"),q.a.createElement(u["a"],{type:"default",className:"margin-right",icon:"printer"},"\u6253\u5370"))));return q.a.createElement(J["h"],{inner:!0},a,q.a.createElement(c["a"],p()({},this.listProps,{columns:e,scroll:{x:1900},size:"middle",rowKey:function(e){return e.id}})),"main"===this.modalProps.whatModal&&q.a.createElement(W,this.modalProps),"choose"===this.chooseModalProps.whatModal&&q.a.createElement(J["b"],this.chooseModalProps))}},{key:"listProps",get:function(){var e=this,a=this.props,t=(a.dispatch,a.transfer),n=t.list,r=(t.modalType,t.pagination),l=a.loading,o=this.state.selectedRowKeys;return{dataSource:n,pagination:r,loading:l.effects["transfer/query"],rowSelection:{selectedRowKeys:o,onChange:function(a){e.setState({selectedRowKeys:a})}}}}},{key:"filterProps",get:function(){var e=this,a=this.props,t=a.dispatch,n=a.form.getFieldsValue;return{handleCreate:function(e){t({type:"transfer/showModal"})},handleChange:function(a){n();e.handleRefresh({search_type:a})}}}},{key:"chooseModalProps",get:function(){var e=this.props,a=e.transfer,t=a.modalVisible,n=a.whatModal,r=e.dispatch;return{whatModal:n,title:"\u65b0\u5efa\u8c03\u62e8\u5355",visible:t,width:960,handleChooseCancel:function(){r({type:"transfer/showModal",payload:{whatModal:"main"}})},handleChooseOk:function(e){r({type:"transfer/showModal",payload:{whatModal:"main",selectedRows:e}})}}}},{key:"modalProps",get:function(){var e=this.props,a=e.transfer,t=a.modalVisible,n=a.currentItem,r=a.whatModal,l=a.selectedRows,o=a.options,s=e.dispatch;return{whatModal:r,options:o,selectedRows:l,title:"\u65b0\u5efa\u8c03\u62e8\u5355",item:n,visible:t,width:960,onCancel:function(){s({type:"transfer/hideModal"})},onOk:function(e){s({type:"transfer/create",payload:e})},onChoose:function(){s({type:"transfer/showModal",payload:{whatModal:"choose"}})},handleChooseCancel:function(){s({type:"transfer/showModal",payload:{whatModal:"main"}})},handleChooseOk:function(e){s({type:"transfer/showModal",payload:{whatModal:"main",selectedRows:e}})}}}}]),a}(F["PureComponent"]),i=d))||i)||i)}}]);